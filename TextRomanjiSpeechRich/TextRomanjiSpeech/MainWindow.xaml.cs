using MPV_LAUNCHER;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Input;
using System.Windows.Threading;

namespace TextRomanjiSpeech
{
    public partial class MainWindow : Window
    {
        SynthesisOutputFile o = new();
        SynthesizeSpeech s;
        SpeechService soap;
        NAudioWrapper n = new();
        audiodb ab = new();
        List<audiopart> parts = new List<audiopart>();
        int y = 0;
        DispatcherTimer timer = new DispatcherTimer();
        public MainWindow()
        {
            s = new(o);
            soap = new(s);
            parts = ab.Load().ToList();
            InitializeComponent();
            timer.Interval = new TimeSpan(0, 0, 0, 0, 10);
            timer.Tick += Timer_Tick;
            Loaded += MainWindow_Loaded;


        }
        private void Timer_Tick(object? sender, EventArgs e)
        {
            scroller.ScrollToVerticalOffset(y);
            y += 1;
        }

        private async void MainWindow_Loaded(object sender, RoutedEventArgs e)
        {
            //nai.LoadString("何も しておかなくていいって 言っておいたんだけど");


            await nai.Met();
            await nai.set();
            //nai.set(bl);
            //nai.LoadString("Basic Grammatical Structures\r\n\r\nNow that we have learned how to write Japanese, we can begin going over the basic grammatical structure of the language. This section primarily covers all the parts of speech: nouns, adjectives, verbs, and adverbs. It will also describe how to integrate the various parts of speech into a coherent sentence by using particles. By the end of this section, you should have an understanding of how basic sentences are constructed.\r\nExpressing state-of-being\r\n\r\n    19 Declaring something is so and so using 「だ」\r\n    20 Conjugating to the negative state-of-being\r\n    21 Conjugating to the past state-of-being\r\n    22 Conjugation summary\r\n\r\n19 Declaring something is so and so using 「だ」\r\n\r\nVocabulary\r\n\r\n    人 【ひと】 – person\r\n    学生 【がく・せい】 – student\r\n    元気 【げん・き】 – healthy; lively (used as a greeting to indicate whether one is well)\r\n\r\nOne of the trickiest part of Japanese is that there is no verb for the state-of-being like the verb \"to be\" in English. You can, however, declare what something is by attaching the Hiragana character 「だ」 to a noun or な-adjective only. (We will learn about な-adjectives in the section on adjectives later.)\r\n\r\nDeclaring that something is so using 「だ」\r\n\r\n    Attach 「だ」 to the noun or な-adjective\r\n    Example:人＋だ＝人だ\r\n\r\nExamples\r\n\r\n    1. 人だ。\r\n    Is person.\r\n    2. 学生だ。\r\n    Is student.\r\n    3. 元気だ。\r\n    Is well.\r\n\r\nSeems easy enough. Here's the real kicker though.\r\n\r\n        A state-of-being can be implied without using 「だ」!\r\n\r\nYou can say you're doing well or someone is a student without using 「だ」 at all. For example, below is an example of a very typical greeting among friends. Also notice how the subject isn't even specified when it's obvious from the context.\r\n\r\nTypical casual greeting\r\n\r\n    Ａ: 元気？\r\n    A: (Are you) well?\r\n\r\n    Ｂ: 元気。\r\n    B: (I'm) well.\r\n\r\nSo you may be wondering, \"What's the point of using 「だ」?\" Well, the main difference is that a declarative statement makes the sentence sound more emphatic and forceful in order to make it more... well declarative. Therefore, it is more common to hear men use 「だ」 at the end of sentences.\r\n\r\nThe declarative 「だ」 is also needed in various grammatical structures where a state-of-being must be explicitly declared. There are also times when you cannot attach it. It's all quite a pain in the butt really but you don't have to worry about it yet.\r\n20 Conjugating to the negative state-of-being\r\n\r\nVocabulary\r\n\r\n    1. 学生 【がく・せい】 – student\r\n    2. 友達 【とも・だち】 – friend\r\n    3. 元気 【げん・き】 – healthy; lively (used as a greeting to indicate whether one is well)\r\n\r\nIn Japanese, negative and past tense are all expressed by conjugation. We can conjugate a noun or adjective to either its negative or past tense to say that something is not [X] or that something was [X]. This may be a bit hard to grasp at first but none of these state-of- being conjugations make anything declarative like 「だ」 does. We'll learn how to make these tenses declarative by attaching 「だ」 to the end of the sentence in a later lesson.\r\n\r\nFirst, for the negative, attach 「じゃない」 to the noun or な-adjective.\r\n\r\nConjugation rules for the negative state-of-being\r\n\r\n    Attach 「じゃない」 to the noun or な-adjective\r\n    Example: 学生＋じゃない＝学生じゃない\r\n\r\nExamples\r\n\r\n    1. 学生じゃない。\r\n    Is not student.\r\n    2. 友達じゃない。\r\n    Is not friend.\r\n    3. 元気じゃない。\r\n    Is not well.\r\n\r\n21 Conjugating to the past state-of-being\r\n\r\nVocabulary\r\n\r\n    1. 学生 【がく・せい】 – student\r\n    2. 友達 【とも・だち】 – friend\r\n    3. 元気 【げん・き】 – healthy; lively (used as a greeting to indicate whether one is well)\r\n\r\nWe will now learn the past tense of the state-of-being. To say something was something, attach 「だった」 to the noun or な-adjective.\r\n\r\nIn order to say the negative past (was not), conjugate the negative to the negative past tense by dropping the 「い」 from 「じゃない」 and adding 「かった」.\r\n\r\nConjugation rules for the past state-of-being\r\n\r\n    1. Past state-of-being: Attach 「だった」 to the noun or な-adjective\r\n    Example: 友達＋だった ＝友達だった\r\n\r\n    2. Negative past state-of-being: Conjugate the noun or な-adjective to the negative first and then replace the 「い」 of 「じゃない」 with 「かった」\r\n    Example: 友達じゃない → 友達じゃなかった＝友達じゃなかった\r\n\r\nExamples\r\n\r\n    1. 学生だった。\r\n    Was student.\r\n    2. 友達じゃなかった。\r\n    Was not friend.\r\n    3. 元気じゃなかった。\r\n    Was not well.\r\n\r\n22 Conjugation summary\r\n\r\nWe've now learned how to express state-of-being in all four tenses. Next we will learn some particles, which will allow us assign roles to words. Here is a summary chart of the conjugations we learned in this section.\r\nSummary of state-of-being \tPositive \tNegative\r\nNon-Past \t学生 (だ) \tIs student \t学生じゃない \tIs not student\r\nPast \t学生だった \tWas student \t学生じゃなかった \tWas not student\r\n\r\nIntroduction to Particles\r\n\r\n    23 Defining grammatical functions with particles\r\n    24 The 「は」 topic particle\r\n    25 The 「も」 inclusive topic particle\r\n    26 The 「が」 identifier particle\r\n\r\n23 Defining grammatical functions with particles\r\n\r\nWe want to now make good use of what we learned in the last lesson by associating a noun with another noun. This is done with something called particles. Particles are one or more Hiragana characters that attach to the end of a word to define the grammatical function of that word in the sentence. Using the correct particles is very important because the meaning of a sentence can completely change just by changing the particles. For example, the sentence \"Eat fish.\" can become \"The fish eats.\" simply by changing one particle.\r\n24 The 「は」 topic particle\r\n\r\n⟶ Related Tae Kim Video\r\n\r\nVocabulary\r\n\r\n    1. 学生 【がく・せい】 – student\r\n    2. うん – yes (casual)\r\n    3. 明日 【あした】 – tomorrow\r\n    4. ううん – no (casual)\r\n    5. 今日 【きょう】 – today\r\n    6. 試験 【しけん】 – exam\r\n\r\nThe first particle we will learn is the topic particle. The topic particle identifies what it is that you're talking about, essentially the topic of your sentence. Let's say a person says, \"Not student.\" This is a perfectly valid sentence in Japanese but it doesn't tell us much without knowing what the person is talking about. The topic particle will allow us to express what our sentences are about. The topic particle is the character 「は」. Now, while this character is normally pronounced as /ha/, it is pronounced /wa/ only when it is being used as the topic particle.\r\n\r\nExample 1\r\n\r\n    ボブ: アリスは学生？\r\n    Bob: Is Alice (you) student?\r\n\r\n    アリス: うん、学生。\r\n    Alice: Yeah, (I) am.\r\n\r\nHere, Bob is indicating that his question is about Alice. Notice that once the topic is established, Alice does not have to repeat the topic to answer the question about herself.\r\n\r\nExample 2\r\n\r\n    ボブ: ジョンは明日？\r\n    Bob: John is tomorrow?\r\n\r\n    アリス: ううん、明日じゃない。\r\n    Alice: No, not tomorrow.\r\n\r\nSince we have no context, we don't have enough information to make any sense of this conversation. It obviously makes no sense for John to actually be tomorrow. Given a context, as long as the sentence has something to do with John and tomorrow, it can mean anything. For instance, they could be talking about when John is taking an exam.\r\n\r\nExample 3\r\n\r\n    アリス: 今日は試験だ。\r\n    Alice: Today is exam.\r\n\r\n    ボブ: ジョンは？\r\n    Bob: What about John?\r\n\r\n    アリス: ジョンは明日。\r\n    Alice: John is tomorrow. (As for John, the exam is tomorrow.)\r\n\r\nThe last example shows how generic the topic of a sentence is. A topic can be referring to any action or object from anywhere even including other sentences. For example, in the last sentence from the previous example, even though the sentence is about when the exam is for John, the word \"exam\" doesn't appear anywhere in the sentence!\r\n\r\nWe'll see a more specific particle that ties more closely into the sentence at the end of this lesson with the identifier particle.\r\n\r\nDictionary of Japanese Grammar reference\r\n25 The 「も」 inclusive topic particle\r\n\r\nVocabulary\r\n\r\n    1. 学生 【がく・せい】 – student\r\n    2. うん – yes (casual)\r\n    3. でも – but\r\n    4. ううん – no (casual)\r\n\r\nAnother particle that is very similar to the topic particle is the inclusive topic particle. It is essentially the topic particle with the additional meaning of \"also\". Basically, it can introduce another topic in addition to the current topic. The inclusive topic particle is the 「も」 character and its use is best explained by an example.\r\n\r\nExample 1\r\n\r\n    ボブ: アリスは学生？\r\n    Bob: Is Alice (you) student?\r\n\r\n    アリス: うん、トムも学生。\r\n    Alice: Yeah, and Tom is also student.\r\n\r\nThe inclusion of 「も」 must be consistent with the answer. It would not make sense to say, \"I am a student, and Tom is also not a student.\" Instead, use the 「は」 particle to make a break from the inclusion as seen in the next example.\r\n\r\nExample 2\r\n\r\n    ボブ: アリスは学生？\r\n    Bob: Is Alice (you) student?\r\n\r\n    アリス: うん、でもトムは学生じゃない。\r\n    Alice: Yeah, but Tom is not student.\r\n\r\nBelow is an example of inclusion with the negative.\r\n\r\nExample 3\r\n\r\n    ボブ: アリスは学生？\r\n    Bob: Is Alice (you) student?\r\n\r\n    アリス: ううん、トムも学生じゃない。\r\n    Alice: No, and Tom is also not student.\r\n\r\nDictionary of Japanese Grammar reference\r\n26 The 「が」 identifier particle\r\n\r\nVocabulary\r\n\r\n    1. 誰 【だれ】 – who\r\n    2. 学生 【がく・せい】 – student\r\n    3. 私 【わたし】 – me; myself; I\r\n\r\nOk, so we can make a topic using the 「は」 and 「も」 particle. But what if we don't know what the topic is? What if I wanted to ask, \"Who is the student?\" What I need is some kind of identifier because I don't know who the student is. If I use the topic particle, the question would become, \"Is who the student?\" and that doesn't make any sense because \"who\" is not an actual person.\r\n\r\nThis is where the 「が」 particle comes into play. It is also referred to as the subject particle but I hate that name since \"subject\" means something completely different in English grammar. Instead, I call it the identifier particle because the particle indicates that the speaker wants to identify something unspecified.\r\n\r\nExample 1\r\n\r\n    ボブ: 誰が学生？\r\n    Bob: Who is the one that is student?\r\n\r\n    アリス: ジョンが学生。\r\n    Alice: John is the one who is student.\r\n\r\nBob wants to identify who among all the possible candidates is a student. Alice responds that John is the one. Notice, Alice could also have answered with the topic particle to indicate that, speaking of John, she knows that he is a student (maybe not the student). You can see the difference in the next example.\r\n\r\nExample 2\r\n\r\n    1. 誰が学生？\r\n    Who is the one that is student?\r\n\r\n    2. 学生は誰？\r\n    (The) student is who?\r\n\r\nThe first sentence seeks to identify a specific person for \"student\" while the second sentence is simply talking about the student. You cannot replace 「が」 with 「は」 in the first sentence because \"who\" would become the topic and the question would become, \"Is who a student?\"\r\n\r\nThe two particles 「は」 and 「が」 may seem very similar only because it is impossible to translate them directly into English. For example, the two sentences below have the same English translation.*\r\n\r\nExample 3\r\n\r\n    1. 私は学生。\r\n    I (am) student.\r\n\r\n    2. 私が学生。\r\n    I (am) student.\r\n\r\nHowever, they only seem similar because English cannot express information about the context as succinctly as Japanese sometimes can. In the first sentence, since 「私」 is the topic, the sentence means, \"Speaking about me, I am a student\".\r\n\r\nHowever, the second sentence is specifying who the 「学生」 is. If we want to know who the student is, the 「が」 particle tells us it's 「私」. You can also think about the 「が」 particle as always answering a silent question. The second sentence might be answering a question, \"Who is the student?\" I often translate the topic particle as \"as for; about\" and the identifier particle as \"the one; the thing\" to illustrate the difference.\r\n\r\n    1. 私は学生。\r\n    As for me, (I am) student.\r\n\r\n    2. 私が学生。\r\n    I (am) the one (that is) student.\r\n\r\nThe 「は」 and 「が」 particles are actually quite different if you think of it the right way. The 「が」 particle identifies a specific property of something while the 「は」 particle is used only to bring up a new topic of conversation. This is why, in longer sentences, it is common to separate the topic with commas to remove ambiguity about which part of the sentence the topic applies to.\r\n\r\n    *Well technically, it's the most likely translation given the lack of context.\r\n\r\n*Note: The order of topics covered are different in the videos so you may want to read about Adjectives first.\r\n\r\n⟶ Related Tae Kim Video\r\n\r\nDictionary of Japanese Grammar reference\r\nAdjectives\r\n\r\n    27 Properties of Adjectives\r\n    28 The な-adjective\r\n    29 The い-adjective\r\n    30 An annoying exception\r\n\r\n⟶ Related Tae Kim Video\r\n27 Properties of Adjectives\r\n\r\nNow that we can connect two nouns together in various ways using particles, we want to describe our nouns with adjectives. An adjective can directly modify a noun that immediately follows it. It can also be connected in the same way we did with nouns using particles. All adjectives fall under two categories: な-adjectives and い-adjectives.\r\n28 The な-adjective\r\n\r\nVocabulary\r\n\r\n    1. 静か 【しず・か】 (な-adjective) – quiet\r\n    2. 人 【ひと】 – person\r\n    3. きれい (な-adjective) – pretty; clean\r\n    4. 友達 【とも・だち】 – friend\r\n    5. 親切 【しん・せつ】 (な-adjective) – kind\r\n    6. 魚 【さかな】 – fish\r\n    7. 好き 【す・き】 (な-adjective) – likable; desirable\r\n    8. 肉 【にく】 – meat\r\n    9. 野菜 【や・さい】 – vegetables\r\n\r\nThe な-adjective is very simple to learn because it acts essentially like a noun. All the conjugation rules for both nouns and な-adjectives are the same. One main difference is that a な-adjective can directly modify a noun following it by sticking 「な」 between the adjective and noun. (Hence the name, な-adjective.)\r\n\r\nExamples\r\n\r\n    1. 静かな人。\r\n    Quiet person.\r\n\r\n    2. きれいな人。\r\n    Pretty person.\r\n\r\nYou can also use adjectives with particles just like we did in the last lesson with nouns.\r\n\r\nExamples\r\n\r\n    1. 友達は親切。\r\n    Friend is kind.\r\n\r\n    2. 友達は親切な人だ。\r\n    Friend is kind person.\r\n\r\nAs shown by the following examples, the conjugation rules for な-adjectives are the same as nouns.\r\n\r\nExamples\r\n\r\n    1. ボブは魚が好きだ。\r\n    Bob likes fish.\r\n\r\n    2. ボブは魚が好きじゃない。\r\n    Bob does not like fish.\r\n\r\n    3. ボブは魚が好きだった。\r\n    Bob liked fish.\r\n\r\n    4. ボブは魚が好きじゃなかった。\r\n    Bob did not like fish.\r\n\r\nIf it bothers you that \"like\" is an adjective and not a verb in Japanese, you can think of 「好き」 as meaning \"desirable\". Also, you can see a good example of the topic and identifier particle working in harmony. The sentence is about the topic \"Bob\" and \"fish\" identifies specifically what Bob likes.\r\n\r\nYou can also use the last three conjugations to directly modify the noun. (Remember to attach 「な」 for positive non-past tense.)\r\n\r\nExamples\r\n\r\n    1. 魚が好きな人。\r\n    Person that likes fish.\r\n\r\n    2. 魚が好きじゃない人。\r\n    Person that does not like fish.\r\n\r\n    3. 魚が好きだった人。\r\n    Person that liked fish.\r\n\r\n    4. 魚が好きじゃなかった人。\r\n    Person that did not like fish.\r\n\r\nHere, the entire clause 「魚が好き」、「魚が好きじゃない」、etc. is modifying \"person\" to talk about people that like or dislike fish. You can see why this type of sentence is useful because 「人は魚が好きだ」 would mean \"People like fish\", which isn't always the case.\r\n\r\nWe can even treat the whole descriptive noun clause as we would a single noun. For instance, we can make the whole clause a topic like the following example.\r\n\r\nExamples\r\n\r\n    1. 魚が好きじゃない人は、肉が好きだ。\r\n    Person who does not like fish like meat.\r\n\r\n    2. 魚が好きな人は、野菜も好きだ。\r\n    Person who likes fish also likes vegetables.\r\n\r\n29 The い-adjective\r\n\r\nVocabulary\r\n\r\n    1. 嫌い 【きら・い】 (な-adjective) – distasteful, hateful\r\n    2. 食べ物 【た・べ・もの】 – food\r\n    3. おいしい (い-adjective) – tasty\r\n    4. 高い 【たか・い】 (い-adjective) – high; tall; expensive\r\n    5. ビル – building\r\n    6. 値段 【ね・だん】 – price\r\n    7. レストラン – restaurant\r\n    8. あまり／あんまり – not very (when used with negative)\r\n    9. 好き 【す・き】 (な-adjective) – likable; desirable\r\n    10. いい (い-adjective) – good\r\n\r\nAll い-adjectives always end in the Hiragana character: 「い」. However, you may have noticed that some な-adjectives also end in 「い」 such as 「きれい ( な) 」. So how can you tell the difference? There are actually very few な-adjectives that end with 「い」 that is usually not written in Kanji. Two of the most common include: 「きれい」 and 「嫌い」. Almost all other な-adjectives that end in 「い」 are usually written in Kanji and so you can easily tell that it's not an い-adjective. For instance, 「きれい」 written in Kanji looks like 「綺麗」 or 「奇麗」. Since the 「い」 part of 「麗」 is part of a Kanji character, you know that it can't be an い-adjective. That's because the whole point of the 「い」 in い-adjectives is to allow conjugation without changing the Kanji. In fact, 「嫌い」 is one of the rare な-adjectives that ends in 「い」 without a Kanji. This has to do with the fact that 「嫌い」 is actually derived from the verb 「嫌う」.\r\n\r\nUnlike な-adjectives, you do not need to add 「な」 to directly modify a noun with an い-adjective.\r\n\r\nExamples\r\n\r\n    1. 嫌いな食べ物。\r\n    Hated food.\r\n\r\n    2. おいしい食べ物。\r\n    Tasty food.\r\n\r\nRemember how the negative state-of-being for nouns also ended in 「い」 (じゃない) ? Well, just like the negative state-of-being for nouns, you can never attach the declarative 「だ」 to い-adjectives.\r\n\r\n        Do NOT attach 「だ」 to い-adjectives.\r\n\r\n    Conjugation rules for い-adjectives\r\n    Negative: First remove the trailing 「い」 from the い-adjective and then attach 「くない」\r\n    Example: 高い → 高くない\r\n    Past-tense: First remove the trailing 「い」 from the い-adjective or negative い-adjective and then attach 「かった」 Examples\r\n        1. 高い → 高かった\r\n        2. 高くない → 高くなかった\r\n\r\nSummary of い-adjective conjugations \tPositive \tNegative\r\nNon-Past \t高い \t高くない\r\nPast \t高かった \t高くなかった\r\n\r\nExamples\r\n\r\n    1. 高いビル。\r\n    Tall building.\r\n\r\n    2. 高くないビル。\r\n    Not tall building.\r\n\r\n    3. 高かったビル。\r\n    Building that was tall.\r\n\r\n    4. 高くなかったビル。\r\n    Building that was not tall.\r\n\r\nNote that you can make the same type of descriptive noun clause as we have done with な-adjectives. The only difference is that we don't need 「な」 to directly modify the noun.\r\n\r\nExample\r\n\r\n    値段が高いレストランはあまり好きじゃない。\r\n    Don't like high price restaurants very much.\r\n\r\nIn this example, the descriptive clause 「値段が高い」 is directly modifying 「レストラン」.\r\n30 An annoying exception\r\n\r\nVocabulary\r\n\r\n    1. 値段 【ね・だん】 – price\r\n    2. あまり／あんまり – not very (when used with negative)\r\n    3. いい (い-adjective) – good\r\n    4. 彼 【かれ】 – he; boyfriend\r\n    5. かっこいい (い-adjective) – cool; handsome\r\n\r\nThere is one い-adjective meaning \"good\" that acts slightly differently from all other い-adjectives. This is a classic case of how learning Japanese is harder for beginners because the most common and useful words also have the most exceptions. The word for \"good\" was originally 「よい (良い) 」. However, with time, it soon became 「いい」. When it is written in Kanji, it is usually read as 「よい」 so 「いい」 is almost always Hiragana. That's all fine and good. Unfortunately, all the conjugations are still derived from 「よい」 and not 「いい」. This is shown in the next table.\r\n\r\nAnother adjective that acts like this is 「かっこいい」 because it is an abbreviated version of two words merged together: 「格好」 and 「いい」. Since it uses the same 「いい」, you need to use the same conjugations.\r\nConjugation for 「いい」 \tPositive \tNegative\r\nNon-Past \tいい \tよくない\r\nPast \tよかった \tよくなかった\r\n\r\n\r\nConjugation for 「かっこいい」 \tPositive \tNegative\r\nNon-Past \tかっこいい \tかっこよくない\r\nPast \tかっこよかった \tかっこよくなかった\r\n\r\nTake care to make all the conjugations from 「よい」 not 「いい」.\r\n\r\nExamples\r\n\r\n    1. 値段があんまりよくない。\r\n    Price isn't very good.\r\n\r\n    2. 彼はかっこよかった！\r\n    He looked really cool!\r\n\r\nVerb Basics\r\n\r\n    31 Role of Verbs\r\n    32 Classifying verbs into る-verbs and う-verbs\r\n    33 Appendix: いる/える う-verbs\r\n\r\n31 Role of Verbs\r\n\r\n    食べる 【た・べる】 (る-verb) to eat\r\n    分かる 【わ・かる】 (う-verb) to understand\r\n    見る 【み・る】 (る-verb) to see\r\n    寝る 【ね・る】 (る-verb) to sleep\r\n    起きる 【お・きる】 (る-verb) to wake; to occur\r\n    考える 【かんが・える】 (る-verb) to think\r\n    教える 【おし・える】 (る-verb) to teach; to inform\r\n    出る 【で・る】 (る-verb) to come out\r\n    いる (る-verb) to exist (animate)\r\n    着る 【き・る】 (る-verb) to wear\r\n    話す 【はな・す】 (う-verb) to speak\r\n    聞く 【き・く】 (う-verb) to ask; to listen\r\n    泳ぐ 【およ・ぐ】 (う-verb) to swim\r\n    遊ぶ 【あそ・ぶ】 (う-verb) to play\r\n    待つ 【ま・つ】 (う-verb) to wait\r\n    飲む 【の・む】 (う-verb) to drink\r\n    買う 【か・う】 (う-verb) to buy\r\n    ある (う-verb) to exist (inanimate)\r\n    死ぬ 【し・ぬ】 (う-verb) to die\r\n    する (exception) to do\r\n    来る 【く・る】 (exception) to come\r\n    お金 【お・かね】 money\r\n    私 【わたし】 me, myself, I\r\n    猫 【ねこ】 cat\r\n\r\nWe've now learned how to describe nouns in various ways with other nouns and adjectives. This gives us quite a bit of expressive power. However, we still cannot express actions. This is where verbs come in. Verbs, in Japanese, always come at the end of clauses. Since we have not yet learned how to create more than one clause, for now it means that any sentence with a verb must end with the verb. We will now learn the three main categories of verbs, which will allow us to define conjugation rules. Before learning about verbs, there is one important thing to keep in mind.\r\n\r\n    A grammatically complete sentence requires a verb only (including state-of-being).\r\n\r\nOr to rephrase, unlike English, the only thing you need to make a grammatically complete sentence is a verb and nothing else! That's why even the simplest, most basic Japanese sentence cannot be translated into English!\r\n\r\nA grammatically complete sentence:\r\n\r\n    食べる。\r\n    Eat. (possible translations include: I eat/she eats/they eat)\r\n\r\n32 Classifying verbs into る-verbs and う-verbs\r\n\r\nBefore we can learn any verb conjugations, we first need to learn how verbs are categorized. With the exception of only two exception verbs, all verbs fall into the category of る-verb or う-verb.\r\n\r\nAll る-verbs end in 「る」 while う-verbs can end in a number of u-vowel sounds including 「る」. Therefore, if a verb does not end in 「る」, it will always be an う-verb. For verbs ending in 「る」, if the vowel sound preceding the 「る」 is an /a/, /u/ or /o/ vowel sound, it will always be an う-verb. Otherwise, if the preceding sound is an /i/ or /e/ vowel sound, it will be a る-verb in most cases. A list of common exceptions are at the end of this section.\r\n\r\nExamples\r\n\r\n    1. 食べる – 「べ」 is an e-vowel sound so it is a る-verb\r\n    2. 分かる – 「か」 is an a-vowel sound so it is an う-verb\r\n\r\nIf you're unsure which category a verb falls in, you can verify which kind it is with most dictionaries. There are only two exception verbs that are neither る-verbs nor う-verbs as shown in the table below.\r\nExamples of different verb types る-verb \tう-verb \texception\r\n見る \t話す \tする\r\n食べる \t聞く \t来る\r\n寝る \t泳ぐ\r\n起きる \t遊ぶ\r\n考える \t待つ\r\n教える \t飲む\r\n出る \t買う\r\nいる \tある\r\n着る \t死ぬ\r\n\r\nExamples\r\n\r\nHere are some example sentences using る-verbs, う-verbs, and exception verbs.\r\n\r\n    1. アリスは食べる。\r\n    As for Alice, eat.\r\n\r\n    2. ジムが来る。\r\n    Jim is the one that comes.\r\n\r\n    3. ボブもする。\r\n    Bob also do.\r\n\r\n    4. お金がある。\r\n    There is money. (lit: Money is the thing that exists.)\r\n\r\n    5. 私は買う。\r\n    As for me, buy.\r\n\r\n    6. 猫はいる。\r\n    There is cat. (lit: As for cat, it exists.)\r\n\r\n33 Appendix: いる/える う-verbs\r\n\r\nVocabulary\r\n\r\n    1. 要る 【い・る】 (う-verb) – to need\r\n    2. 帰る 【かえ・る】 (う-verb) – to go home\r\n    3. 切る 【き・る】 (う-verb) – to cut\r\n    4. しゃべる (う-verb) – to talk\r\n    5. 知る 【し・る】 (う-verb) – to know\r\n    6. 入る 【はい・る】 (う-verb) – to enter\r\n    7. 走る 【はし・る】 (う-verb) – to run\r\n    8. 減る 【へ・る】 (う-verb) – to decrease\r\n    9. 焦る 【あせ・る】 (う-verb) – to be in a hurry\r\n    10. 限る 【かぎ・る】 (う-verb) – to limit\r\n    11. 蹴る 【け・る】 (う-verb) – to kick\r\n    12. 滑る 【すべ・る】 (う-verb) – to be slippery\r\n    13. 握る 【にぎ・る】 (う-verb) – to grasp\r\n    14. 練る 【ね・る】 (う-verb) – to knead\r\n    15. 参る 【まい・る】 (う-verb) – to go; to come\r\n    16. 交じる 【まじ・る】 (う-verb) – to mingle\r\n    17. 嘲る 【あざけ・る】 (う-verb) – to ridicule\r\n    18. 覆る 【くつがえ・る】 (う-verb) – to overturn\r\n    19. 遮る 【さえぎ・る】 (う-verb) – to interrupt\r\n    20. 罵る 【ののし・る】 (う-verb) – to abuse verbally\r\n    21. 捻る 【ひね・る】 (う-verb) – to twist\r\n    22. 翻る 【ひるが・える】 (う-verb) – to turn over; to wave\r\n    23. 滅入る 【めい・る】 (う-verb) – to feel depressed\r\n    24. 蘇る 【よみがえ・る】 (う-verb) – to be resurrected\r\n\r\nBelow is a list of う-verbs with a preceding vowel sound of /i/ or /e/ (\"iru\" or \"eru\" sound endings). The list is not comprehensive but it does include many of the more common verbs categorized roughly into three levels.\r\nいる/える う-verbs grouped (roughly) by level Basic \tIntermediate \tAdvanced\r\n要る \t焦る \t嘲る\r\n帰る \t限る \t覆る\r\n切る \t蹴る \t遮る\r\nしゃべる \t滑る \t罵る\r\n知る \t握る \t捻る\r\n入る \t練る \t翻る\r\n走る \t参る \t滅入る\r\n減る \t交じる \t蘇る\r\n\r\nNegative Verbs");
        }

        protected override async void OnKeyDown(KeyEventArgs e)
        {
            if (e.Key == Key.Right)
            {
                await nai.set();

            }
            if (e.Key == Key.Space)
            {
                if (timer.IsEnabled)
                {
                    timer.Stop();
                }
                else
                {
                    timer.Start();
                }
            }
            if (e.Key == Key.S)
            {
                var f = nai.SelectedText();
                string path = "";
                bool neww = true;
                for (int i = 0; i < parts.Count; i++)
                {
                    if (parts[i].text == f)
                    {
                        path = parts[i].file;
                        neww = false;
                        break;
                    }
                }

                if (neww)
                {
                    var s = await soap.FullSpeakOut(f);
                    path = TempGlobals.AudioFiles + $"{(s.FileId).ToString()}.wav";
                    audiopart ap = new audiopart();
                    ap.text = f;
                    ap.file = path;
                    parts.Add(ap);
                    ab.i(ap);
                }

                n.AudioFile(path);
                n.Play();
            }
            base.OnKeyDown(e);
        }

        private void scroller_ScrollChanged(object sender, ScrollChangedEventArgs e)
        {
            y = (int)scroller.VerticalOffset;
        }
    }
}
